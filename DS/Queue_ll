#include <stdio.h>
#include <stdlib.h>

struct node 
{
    int data;
    struct node* next;
};

struct queue 
{
    struct node *front, *rear;
};
 
struct node* newnode(int val)
{
    struct node* temp = (struct node*)malloc(sizeof(struct node));
    temp->data = val;
    temp->next = NULL;
    return temp;
}
 
struct queue* create()
{
    struct queue* q = (struct queue*)malloc(sizeof(struct queue));
    q->front = q->rear = NULL;
    return q;
}
 
void enqueue(struct queue* q, int val)
{

    struct node* temp = newnode(val);

    if (q->rear == NULL) 
    {
        q->front = q->rear = temp;
        return;
    }
    
    q->rear->next = temp;
    q->rear = temp;
}
 
// Function to remove a key from given queue q
void dequeue(struct queue* q)
{
    if (q->front == NULL)
    {
        printf("No elements in queue");
    }

    struct node* temp = q->front;
    q->front = q->front->next;
    
    if (q->front == NULL)
    {
        q->rear = NULL;
    }
    free(temp);
}

int main()
{
    struct queue* q = create();
    struct node* temp = (struct node*)malloc(sizeof(struct node));
    int choice,val;
    int i=0;
    while(i==0)
    {
        printf("\n1) Enqueue\n2) Dequeue\n3) Display\n4) Exit\n");
        scanf("%d",&choice);
        
        switch(choice)
        {
            case 1:
                printf("\nEnter value to enqueue: ");
                scanf("%d",&val);
                enqueue(q,val);
                break;
            case 2:
                dequeue(q);
                break;
            case 3:
                temp = q->front;
                while(temp !=NULL)
                {
                    printf("%d\n", temp -> data );
                    temp=temp->next;
                }
                //printf("\nQueue Front : %d \n", q->front->data);
                //printf("Queue Rear : %d \n", q->rear->data);
                break;
            case 4:
                i=1;
                break;
        }
    }
    return 0;
}
